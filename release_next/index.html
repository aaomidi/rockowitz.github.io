<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Sanford Rockowitz">
  <link rel="canonical" href="https://www.ddcutil.com/release_next/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Preliminary Notes for Release 1.1.0 - ddcutil Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Preliminary Notes for Release 1.1.0";
    var mkdocs_page_input_path = "release_next.md";
    var mkdocs_page_url = "/release_next/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> ddcutil Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../commands/">Command Overview</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../cmd_output/">Command Examples</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Command Examples</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../detect_verbose_output/">ddcutil detect example</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../getvcp_known_u3011_output/">ddcutil getvcp example</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../vcpinfo_output/">ddcutil vcpinfo example</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cap_u3011_verbose_output/">ddcutil capabilities example</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../command_detail/">Command Detail</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Command Detail</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Primary Commands</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../command_detect/">detect</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_capabilities/">capabilities</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_getvcp/">getvcp</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_setvcp/">setvcp</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_vcpinfo/">vcpinfo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_dumpvcp_loadvcp/">dumpvcp &amp; loadvcp</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../command_scs/">scs</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../secondary_commands/">Secondary Commands</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../options_main/">Command Options</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Command Options</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../display_selection/">Display Selection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../feature_selection/">Feature Selection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../performance_options/">Performance and Tuning Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../instrumentation_options/">Instrumentation Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../output_control_options/">Output Level Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../other_options/">Miscellaneous Options</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../debug_options/">Debugging Options</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Specific Facilities</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../table_features/">Table Type Features</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../usb/">USB Connected Monitors</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../colormgt/">Color Management</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Installation and Configuration</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../install/">Install ddcutil From Prebuilt Packages</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../building/">Building From Source</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../shared_lib_config/">Shared Library Configuration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../config/">Configuration and Installation Diagnostics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../i2c_permissions/">I2C Device Permissions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../usb_permissions/">USB Device Permissions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../kernel_module/">Kernel Module Configuration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../nvidia/">Special Nvidia Driver Settings</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../virtual_machines/">Virtual Machines</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../raspberry/">Raspberry Pi</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../monitor_notes/">Notes on Specific Monitors</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../quirks/">Notes on Particular Configurations</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">API</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../api_main/">C API</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_90/">C API Changes for Release 0.9.0</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_93/">C API Changes for Release 0.9.3</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_95/">C API Changes for Release 0.9.5</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_96/">C API Changes for Release 0.9.6</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_98/">C API Changes for Release 0.9.8</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_99/">C API Changes for Release 0.9.9</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../c_api_100/">C API Changes for Release 1.0.0</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../python_api/">Python API Overview</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Background</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../mccs_background/">Monitor Control Command Set</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ddc_vs_i2c/">DDC vs I2C</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../displayport/">DDC and DisplayPort</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bibliography/">References</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Additional Topics</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../faq/">Frequently Asked Questions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../tech_support/">Technical Support</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ddccontrol/">Comparison with ddccontrol</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ddc_null_response/">DDC Null Message</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../acknowledgements/">Acknowledgements</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Release History</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../releases/">Releases</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../release_notes/">Release Notes</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Preliminary Notes for Release 1.1.0</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#docking-station-connected-displays">Docking station connected displays</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#configuration-file-ddcutilrc">Configuration file ddcutilrc</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#persistent-capabilities">Persistent capabilities</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#miscellaneous">Miscellaneous</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#building-ddcutil">Building ddcutil</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../prior_announcements/">Announcement History</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">ddcui</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../ddcui_main/">Overview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ddcui_options/">Command Line Options</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../building_ddcui/">Building ddcui</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ddcui_release_notes/">ddcui Release Notes</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Futuere Features</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../udf/">User Defined Features</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">ddcutil Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Release History &raquo;</li>
        
      
    
    <li>Preliminary Notes for Release 1.1.0</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/rockowitz/ddcutil/edit/master/docs/release_next.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="preliminary-notes-for-release-110-dev">Preliminary Notes for Release 1.1.0-dev</h2>
<p>Reflecting the extent of changes, development release 1.0.2 has been 
renumbered 1.1.0.<br />
This page previews significant changes in the release.</p>
<h3 id="docking-station-connected-displays">Docking station connected displays</h3>
<p>At long last, Linux kernel release 5.10 implemented DDC communication 
over DisplayPort Multi-Stream Transport.  Most commonly, this is seen with displays 
connected to docking stations.  For several years now, all docking
station connected displays, even those using HDMI or DVI connections, internally
rely on a DisplayPort MST connection between the computer and the 
docking station. </p>
<p>The kernel changes were made in the Direct Rendering Mode (DRM)
subsytem.  The Intel i915 and AMD amdgpu drivers, which are implemented as 
part of DRM, have been tested and (mostly) work. Other drivers  part of the kernel
DRM component, e.g. nouveau, should also work but have not been tested.
Nvidia's proprietary driver uses it own proprietary DRM implementation and still 
does not support DDC communication over MST.  </p>
<p>Unfortunately there are problems with the DRM code, which ddcutil can sometimes work around.</p>
<p>Sometimes the display's EDID cannot be read on I2C slave address x50.  As a result, 
ddcutil does not report the existence of a display connected to the /dev/i2c device.
<strong><em>ddcutil</em></strong> attempt to work around this by trying to read the EDID multiple times with both 128 and 256 block
sizes. Depending on the monitor, usually one or the other will work, but sometimes neither do.<br />
Option <strong><em>--edid-read-size</em></strong>, which was introduced in release 1.0.1, can force the block size
to 128 or 256.</p>
<p>This problem can be unrecoverable when the computer suspends and resumes, requiring reboot.</p>
<p>On the other hand, the same monitor may appear as two different /dev/i2c devices, only one of which 
supports DDC.  Curiously EDID read failures are associated with the /dev/i2c device that supports DDC. 
<strong>ddcutil</strong> attempts to detect which /dev/i2c device should be used for monitor
communication, and the <strong>detect</strong> command reports the other as a "Phantom Display" instead of an
"Invalid Display".  (Thank you laur89 for the wonderfully apt term.)</p>
<p>My sincere thanks to github users laur89 and boscard for their considerable help in diagnosing this situation and testing solutions.</p>
<h3 id="configuration-file-ddcutilrc">Configuration file <strong>ddcutilrc</strong></h3>
<p><strong>ddcutil</strong>'s command options have proliferated, often to address problems specific to a 
small number of users. To simplify their use, they can now be specified in a configuration file.</p>
<p><strong>ddcutil</strong> first looks for file <strong>ddcutil/ddcutilrc</strong> in the XDG_CONFIG_HOME directory, 
and then on the XDG_CONFIG_DIRS search path.  By default, this will be 
$HOME/.config/ddcutil/ddcutilrc</p>
<p><strong><em>ddcutilrc</em></strong> is a standard style INI file,
It has the following sections: </p>
<table>
<thead>
<tr>
<th>Section name</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>[global]</td>
<td>&nbsp; Always apply</td>
</tr>
<tr>
<td>[ddcutil]</td>
<td>&nbsp; Applies to command <strong>ddcutil</strong></td>
</tr>
<tr>
<td>[ddcui]</td>
<td>&nbsp; Applies to command <strong>ddcui</strong></td>
</tr>
<tr>
<td>[libddcutil]</td>
<td>&nbsp; Used to configure shared library <strong>libddcutil</strong></td>
</tr>
<tr>
<td><br></td>
<td></td>
</tr>
<tr>
<td>Within each section, key <strong><em>options</em></strong> specifies an option string.</td>
<td></td>
</tr>
</tbody>
</table>
<p>Command options for monitor or feature selection cannot be specified.</p>
<p>For <strong>ddcutil</strong> and <strong>ddcui</strong>, the options string obtained from the 
configuration file is used to prefix the command line options. </p>
<p>For <strong>libddcutil</strong>, the option string is read directly when the shared 
library is initialized. </p>
<p>For example: </p>
<pre><code># This is a comment line

[global]
; Combined with all other options strings
options : --edid-read-size 256

[ddcutil]
   * This is a comment too
   options : --sleep-multiplier .5 --maxtries &quot;3,5,3&quot;

[libddcutil]
   ; And this is a comment.  Leading spaces in a line are ignored
   options: --noverify
</code></pre>

<p>Section names and keys are case insensitive</p>
<h3 id="persistent-capabilities">Persistent capabilities</h3>
<p><strong>capabilities</strong> is the most expensive <strong>ddcutil</strong> command in 
elapsed time.  It is also the most prone to failure on marginal I2C host/monitor 
connections, due the large number of I2C requests involved.</p>
<p>On the other hand, the capabilities string is constant for a monitor model.
<strong>ddcutil</strong> now caches capaiblities strings, significantly speeding up execution. </p>
<p>This feature is controlled by options <strong><em>--enable-capabilities-cache</em></strong> and <strong><em>--disable-capabilities-cache</em></strong>.
The default is currently <strong><em>--disable-capabilities-cache</em></strong>, as there are some edge cases not yet addressed</p>
<p>The cache is located in file <strong>ddcutil/capabilities</strong> of the XDG cache directory. 
Typically this is $HOME/.cache/ddcutil/capabilities.  This file can safely be erased if the 
stored capabilities string should become corrupted in some way. </p>
<h3 id="miscellaneous">Miscellaneous</h3>
<ul>
<li>Warn the user at <strong>ddcutil</strong> startup if module <strong>i2c-dev</strong> is neither loaded nor built into the kernel.
This should help new users properly configure their systems.  </li>
<li>More detailed output on the <strong><em>detect</em></strong> command, particularly with option <strong><em>--verbose</em></strong>.  </li>
<li><strong><em>environment --verbose</em></strong> has more extensive diagnostics, particulary of /sys </li>
<li>Avoid corrupting the state of AMD Navi4 gpus, e.g. RX 6000 series, by not examining SMU I2C buses on the 
video adapter.</li>
</ul>
<h3 id="building-ddcutil">Building <strong>ddcutil</strong></h3>
<p><strong><em>configure</em></strong> option <strong><em>--disable-usb</em></strong> now implies <strong><em>--disable-udev</em></strong>. 
This addresses a build failure reported by Amon Sha.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../prior_announcements/" class="btn btn-neutral float-right" title="Announcement History">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../release_notes/" class="btn btn-neutral" title="Release Notes"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/rockowitz/ddcutil/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../release_notes/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../prior_announcements/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(false);
        };
    </script>

</body>
</html>
